define(["../lib/handlebars/handlebars","../lib/utils"],function(t,e){var n={injectToIndex:function(t,e){document.querySelector(t).innerHTML=e},getTemplate:function(t){this.template=JSON.parse(t)},init:function(n,i,c){if(c){this.id=c,e.request("database/ex"+c+".json").then(function(t){return this.getTemplate(t),e.request(i)}.bind(this)).then(function(e){this.injectToIndex(".app-content",t.compile(e)(this.template)),this.hasOwnProperty("injectScript")&&this.injectScript()}.bind(this))["catch"](function(t){console.error(t)})}else e.request(i).then(function(e){this.injectToIndex(".app-content",t.compile(e)()),this.hasOwnProperty("injectScript")&&this.injectScript()}.bind(this))["catch"](function(t){console.error(t)})}};return function(){return n}});